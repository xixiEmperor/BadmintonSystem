import{ay as h,r as u}from"./index-CZU4bJ5v.js";import{f as t}from"./format-BoKD-3ja.js";const y=h("forum",()=>{const i=u(),s=u(null),a=u(),c=e=>{e&&e.length>0?i.value=e.map(l=>(l.publishTime&&!l.publishTime.includes("-")&&(l.publishTime=t(l.publishTime)),l.lastReply&&!l.lastReply.includes("-")&&(l.lastReply=t(l.lastReply)),l)):i.value=e},f=e=>{a.value=e},m=e=>{e&&e.publishTime&&!e.publishTime.includes("-")&&(e.publishTime=t(e.publishTime)),s.value=e},o=e=>{i.value.unshift(e)},v=e=>{const l=i.value.findIndex(n=>n.id===e.id);l!==-1&&(i.value[l]=e),s.value&&s.value.id===e.id&&m(e)},d=e=>{const l=i.value.findIndex(n=>n.id===e);l!==-1&&i.value.splice(l,1),s.value&&s.value.id===e&&(s.value=null)},r=u([]);return{posts:i,currentPost:s,hotPosts:a,setPosts:c,setHotPosts:f,setCurrentPost:m,addPost:o,updatePost:v,deletePost:d,comments:r,setComments:e=>{r.value=e}}},{persist:!0});export{y as u};
