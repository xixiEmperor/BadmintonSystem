import{ax as i,r as h,L as m,q as p,i as d,l as w,P as I,Q as S,M as A,N as R,T as c}from"./index-CZU4bJ5v.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";const N=r=>i({url:"/api/auth/send-code",method:"post",data:r}),T=r=>i({url:"/api/auth/register",method:"post",data:r}),j=r=>i({url:"/api/auth/login",method:"post",data:r}),E=r=>i({url:"/api/auth/reset-password",method:"post",data:r}),L={class:"verification-code-input"},P={class:"code-inputs"},b=["onUpdate:modelValue","onInput","onKeydown"],C={__name:"VerificationCodeInput",props:{modelValue:{type:String,default:""},length:{type:Number,default:6}},emits:["update:modelValue"],setup(r,{expose:g,emit:v}){const l=r,_=v,u=h(Array(l.length).fill("")),n=h([]),y=(e,s)=>{e&&(n.value[s]=e)};m(()=>l.modelValue,e=>{e!==u.value.join("")&&(u.value=e.split("").concat(Array(l.length).fill("")).slice(0,l.length))},{immediate:!0}),m(u,e=>{const s=e.join("");_("update:modelValue",s)},{deep:!0});const V=(e,s)=>{const t=s.replace(/\D/g,"");u.value[e]=t,t&&e<l.length-1&&c(()=>{var o;(o=n.value[e+1])==null||o.focus()})},D=(e,s)=>{s.key==="Backspace"&&!u.value[e]&&e>0?c(()=>{var t;(t=n.value[e-1])==null||t.focus()}):s.key==="ArrowLeft"&&e>0?c(()=>{var t;(t=n.value[e-1])==null||t.focus()}):s.key==="ArrowRight"&&e<l.length-1&&c(()=>{var t;(t=n.value[e+1])==null||t.focus()})},k=e=>{e.preventDefault();const t=e.clipboardData.getData("text").replace(/\D/g,"").split("").slice(0,l.length);t.forEach((a,f)=>{f<l.length&&(u.value[f]=a)});const o=Math.min(t.length-1,l.length-1);c(()=>{var a;(a=n.value[o])==null||a.focus()})};return g({focus:()=>{var e;(e=n.value[0])==null||e.focus()},clear:()=>{var e;u.value=Array(l.length).fill(""),(e=n.value[0])==null||e.focus()}}),(e,s)=>(d(),p("div",L,[w("div",P,[(d(!0),p(I,null,S(u.value,(t,o)=>A((d(),p("input",{key:o,"onUpdate:modelValue":a=>u.value[o]=a,ref_for:!0,ref:a=>y(a,o),maxlength:"1",class:"code-digit",onInput:a=>V(o,a.target.value),onKeydown:a=>D(o,a),onPaste:k,type:"text",inputmode:"numeric",pattern:"[0-9]*"},null,40,b)),[[R,u.value[o]]])),128))])]))}},F=B(C,[["__scopeId","data-v-d1422850"]]);export{F as V,N as a,T as b,j as c,E as d};
